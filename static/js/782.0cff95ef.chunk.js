"use strict";(self.webpackChunkeasylist_react_pwa=self.webpackChunkeasylist_react_pwa||[]).push([[782],{9708:function(e,n,t){t.d(n,{Z:function(){return c}});t(2791);var s=t(675),a=t(184),c=function(e){var n=e.position,t=void 0===n?"right":n,c=e.leftContent,i=e.rightContent;return(0,a.jsx)("header",{className:"header-bar",children:(0,a.jsxs)(s.Z,{position:t,style:{width:"98%",padding:"6px 0px"},children:[c&&(0,a.jsx)(s.Z,{spacing:"xs",children:c}),i&&(0,a.jsx)(s.Z,{spacing:"xs",children:i})]})})}},782:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var s=t(2791),a=t(885),c=t(7689),i=t(3275),r=t(9708),o=t(8296),l=t(1161),u=t(4746),d=t(1684),p=t(675),x=t(378),h=t(526),m=t(3418),j=t(1044),f="https://easylist-api.onrender.com",g=function(){return j.ZP.get("".concat(f,"/spaces/all"))},v=function(e){return j.ZP.post("".concat(f,"/spaces/create"),e)},Z=function(e){return j.ZP.delete("".concat(f,"/spaces/delete/").concat(e))},C=function(e){var n=e.spaceId,t=e.request;return j.ZP.post("".concat(f,"/items/create/").concat(n),t)},I=function(e){var n=e.spaceId,t=e.itemId,s=e.request;return j.ZP.post("".concat(f,"/items/update/").concat(n,"/").concat(t),s)},S=function(e){var n=e.spaceId,t=e.itemId;return j.ZP.delete("".concat(f,"/items/delete/").concat(n,"/").concat(t))},z=t(917),k=function(){var e=(0,s.useContext)(z.u),n=e.handleAddSpace,t=e.handleDeleteSpace,a=(0,m.D)(v,{onSuccess:function(e){var t=e.data;n(t)}}).mutate;return{removeSpace:(0,m.D)(Z,{onSuccess:function(e){var n=e.data;t(n.id)}}).mutate,newSpace:a}},A=t(184);var y,b=function(){var e=(0,c.s0)(),n=s.useContext(i.J).lang,t=s.useState(!1),m=(0,a.Z)(t,2),j=m[0],f=m[1],g=s.useState(""),v=(0,a.Z)(g,2),Z=v[0],C=v[1],I=s.useState(!1),S=(0,a.Z)(I,2),z=S[0],y=S[1],b=s.useState("All"),w=(0,a.Z)(b,2),F=w[0],P=w[1],D=k().newSpace,T=function(){f(!1),C(""),y(!1),P("All")};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(r.Z,{rightContent:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(o.z,{onClick:function(){return f(!0)},color:"teal",children:(0,A.jsx)(x.Z,{})}),(0,A.jsx)(o.z,{onClick:function(){return e("/easylist-ui-pwa/settings")},color:"teal",children:(0,A.jsx)(h.Z,{})})]})}),(0,A.jsx)(l.u,{onClose:T,opened:j,children:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(u.I,{value:Z,onChange:function(e){var n=e.target.value;""===n&&y(!0),""!==n&&z&&y(!1),C(n)},icon:(0,A.jsx)(x.Z,{size:16}),placeholder:n.homeCreateSpaceInputPlaceholder,invalid:z}),(0,A.jsx)(d.Ph,{placeholder:n.spaceUserPlaceholder,data:[{value:"All",label:n.spaceUserOptionAll},{value:"Johan",label:"Johan"},{value:"Laura",label:"Laura"}],value:F,onChange:function(e){P(e)}}),(0,A.jsx)(p.Z,{position:"right",style:{marginTop:"1.5rem"},children:(0,A.jsx)(o.z,{onClick:function(){D({name:Z,user:F}),T()},size:"xs",color:"teal",disabled:""===Z,children:n.homeCreateSpaceAddButton})})]})})]})},w=t(2485),F=t(1580),P=t(477),D=t(1231),T=t(9982),J=t(5699),B=t(3828),E=t(1413),L=t(1946),q=t(6808),_=t(9811),U=function(e){var n=(0,s.useContext)(z.u),t=n.handleAddItem,a=n.handleDeleteItem,c=n.handleUpdateItem;return{removeItem:(0,m.D)(S,{onSuccess:function(n){var t=n.data;a(e,t.id)}}).mutate,updateItem:(0,m.D)(I,{onSuccess:function(n){var t=n.data;c(e.id,t)}}).mutate,newItem:(0,m.D)(C,{onSuccess:function(n){var s=n.data;t(e.id,s)}}).mutate}};!function(e){e.LEFT="left",e.RIGHT="right"}(y||(y={}));var W=function(e){var n=(0,s.useContext)(i.J).checkboxPos,t=e.space,c=e.item,r=(0,s.useState)(c.complete),o=(0,a.Z)(r,2),l=o[0],u=o[1],d=l?{textDecoration:"line-through"}:{},x=U(t),h=x.removeItem,m=x.updateItem,j=function(){var e={id:c.id,name:c.name,complete:!l},n={spaceId:t.id,itemId:c.id,request:e};u(!l),m(n)};return(0,A.jsxs)(p.Z,{position:"apart",children:[(0,A.jsxs)(p.Z,{spacing:"xs",children:[n===y.LEFT&&(0,A.jsx)(L.X,{onChange:j,checked:l,color:"teal"}),(0,A.jsx)(T.x,{style:(0,E.Z)((0,E.Z)({},d),{},{maxWidth:"210px"}),color:l?"dimmed":"inherit",size:"lg",children:c.name})]}),(0,A.jsxs)(p.Z,{spacing:"xs",children:[n===y.RIGHT&&(0,A.jsx)(L.X,{onChange:j,checked:l,color:"teal"}),(0,A.jsx)(q.A,{onClick:function(){var e={spaceId:t.id,itemId:c.id};h(e)},size:"sm",color:"red",children:(0,A.jsx)(_.Z,{})})]})]})},G=function(e){var n=s.useContext(i.J).lang,t=e.space.items;return(0,A.jsx)(A.Fragment,{children:t.length?t.map((function(n){return(0,A.jsx)(W,{space:e.space,item:n},"space-".concat(e.space.id,"-item-").concat(n.id))})):(0,A.jsx)(T.x,{size:"sm",color:"grey",children:n.spaceItemsNoItems})})},H=t(3161),N=t(6588),R=function(e){var n=s.useContext(i.J).lang,t=e.space,c=s.useState(""),r=(0,a.Z)(c,2),d=r[0],x=r[1],h=s.useState(!1),m=(0,a.Z)(h,2),j=m[0],f=m[1],g=s.useState(!1),v=(0,a.Z)(g,2),Z=v[0],C=v[1],I=s.useState(!1),S=(0,a.Z)(I,2),z=S[0],y=S[1],b=k().removeSpace,w=U(t).newItem,F=function(){var e={name:d,complete:!1},n={spaceId:t.id,request:e};w(n)},P=function(){C(!1),y(!1),x(""),f(!1)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(p.Z,{spacing:"md",children:[(0,A.jsx)(q.A,{onClick:function(){return C(!0)},size:"sm",color:"teal",children:(0,A.jsx)(H.Z,{})}),(0,A.jsx)(q.A,{onClick:function(){return y(!0)},size:"sm",color:"red",children:(0,A.jsx)(_.Z,{})})]}),(0,A.jsx)(l.u,{onClose:P,opened:Z,children:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(u.I,{value:d,onChange:function(e){var n=e.target.value;""===n&&f(!0),""!==n&&j&&f(!1),x(e.target.value)},icon:(0,A.jsx)(N.Z,{size:16}),placeholder:n.spaceAddItemInputPlaceholder,invalid:j}),(0,A.jsxs)(p.Z,{position:"right",style:{marginTop:"1.5rem"},children:[(0,A.jsx)(o.z,{onClick:function(){F(),x("")},size:"xs",color:"teal",disabled:""===d,children:n.spaceAddItemButtonMore}),(0,A.jsx)(o.z,{onClick:function(){F(),P()},size:"xs",color:"teal",disabled:""===d,children:n.spaceAddItemButtonClose})]})]})}),(0,A.jsx)(l.u,{onClose:P,opened:z,children:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(T.x,{align:"center",children:n.spaceDeleteSpaceWarning}),(0,A.jsx)(p.Z,{position:"right",style:{marginTop:"1.5rem"},children:(0,A.jsx)(o.z,{onClick:function(){b(t.id),y(!1)},size:"xs",color:"red",children:n.spaceDeleteSpaceButton})})]})})]})},X=function(e){var n=e.space,t=function(e){var n=s.useContext(z.u).data,t=s.useState(0),c=(0,a.Z)(t,2),i=c[0],r=c[1];return s.useEffect((function(){var n=e.items.length,t=0;e.items.forEach((function(e){e.complete&&(t+=1)})),r(t/n*100)}),[n,e.items]),i}(n);return(0,A.jsxs)(P.Z,{shadow:"sm",p:"lg",style:{marginBottom:"1.2rem"},children:[(0,A.jsxs)(p.Z,{position:"apart",children:[(0,A.jsxs)(D.K,{spacing:"xs",children:[(0,A.jsx)(T.x,{size:"xl",weight:500,children:n.name}),(0,A.jsx)(T.x,{size:"sm",children:n.user})]}),(0,A.jsx)(R,{space:n})]}),(0,A.jsx)(J.i,{my:"sm"}),(0,A.jsx)(G,{space:n}),t>=0&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(J.i,{my:"sm"}),(0,A.jsx)(B.E,{value:t,color:t>=100?"teal":"blue",size:"lg"})]})]})},K=t(8021);var M=function(){var e=(0,s.useContext)(z.u),n=e.data,t=e.handleSetAllSpaces,a=(0,K.a)(["spaces"],g,{onSuccess:function(e){var n=e.data;t(n)},staleTime:6e3}).isLoading;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(w.f,{visible:a}),(0,A.jsx)(b,{}),(0,A.jsx)(F.W,{children:n&&n.map((function(e){return(0,A.jsx)(X,{space:e},"space-".concat(e.id))}))})]})}}}]);
//# sourceMappingURL=782.0cff95ef.chunk.js.map