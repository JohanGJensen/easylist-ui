"use strict";(self.webpackChunkeasylist_react_pwa=self.webpackChunkeasylist_react_pwa||[]).push([[521],{9708:function(e,n,t){t.d(n,{Z:function(){return c}});t(2791);var s=t(675),r=t(184),c=function(e){var n=e.position,t=void 0===n?"right":n,c=e.leftContent,i=e.rightContent;return(0,r.jsx)("header",{className:"header-bar",children:(0,r.jsxs)(s.Z,{position:t,style:{width:"98%",padding:"6px 0px"},children:[c&&(0,r.jsx)(s.Z,{spacing:"xs",children:c}),i&&(0,r.jsx)(s.Z,{spacing:"xs",children:i})]})})}},521:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var s=t(2791),r=t(917),c=t(885),i=t(7689),a=t(3275),o=t(9708),l=t(8296),u=t(1161),d=t(4746),h=t(1684),x=t(675),p=t(378),j=t(526),m=t(7017),f=t(184);var g,C=function(){var e=(0,i.s0)(),n=s.useContext(a.J).lang,t=s.useContext(r.u).handleAddSpace,g=s.useState(!1),C=(0,c.Z)(g,2),v=C[0],Z=C[1],z=s.useState(""),k=(0,c.Z)(z,2),I=k[0],S=k[1],A=s.useState(!1),b=(0,c.Z)(A,2),y=b[0],F=b[1],w=s.useState("All"),T=(0,c.Z)(w,2),J=T[0],B=T[1],D=function(){Z(!1),S(""),F(!1),B("All")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.Z,{rightContent:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.z,{onClick:function(){return Z(!0)},color:"teal",children:(0,f.jsx)(p.Z,{})}),(0,f.jsx)(l.z,{onClick:function(){return e("/settings")},color:"teal",children:(0,f.jsx)(j.Z,{})})]})}),(0,f.jsx)(u.u,{onClose:D,opened:v,children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.I,{value:I,onChange:function(e){var n=e.target.value;""===n&&F(!0),""!==n&&y&&F(!1),S(n)},icon:(0,f.jsx)(p.Z,{size:16}),placeholder:n.homeCreateSpaceInputPlaceholder,invalid:y}),(0,f.jsx)(h.Ph,{placeholder:n.spaceUserPlaceholder,data:[{value:"All",label:n.spaceUserOptionAll},{value:"Johan",label:"Johan"},{value:"Laura",label:"Laura"}],value:J,onChange:function(e){B(e)}}),(0,f.jsx)(x.Z,{position:"right",style:{marginTop:"1.5rem"},children:(0,f.jsx)(l.z,{onClick:function(){var e={name:I,user:J};(0,m.AU)(e).then((function(e){return t(e.data)})).catch((function(e){return console.error(e)})),D()},size:"xs",color:"teal",children:n.homeCreateSpaceAddButton,disabled:""===I})})]})})]})},v=t(2485),Z=t(1580),z=t(477),k=t(1231),I=t(9982),S=t(5699),A=t(3828),b=t(1413),y=t(1946),F=t(6808),w=t(9811);!function(e){e.LEFT="left",e.RIGHT="right"}(g||(g={}));var T=function(e){var n=(0,s.useContext)(r.u),t=n.handleUpdateItem,i=n.handleDeleteItem,o=(0,s.useContext)(a.J).checkboxPos,l=e.space,u=e.item,d=(0,s.useState)(u.complete),h=(0,c.Z)(d,2),p=h[0],j=h[1],C=p?{textDecoration:"line-through"}:{},v=function(){var e={id:u.id,name:u.name,complete:!p};j(!p),(0,m.ss)(l.id,u.id,e).then((function(e){return t(l.id,e.data)})).catch((function(e){return console.error(e)}))};return(0,f.jsxs)(x.Z,{position:"apart",children:[(0,f.jsxs)(x.Z,{spacing:"xs",children:[o===g.LEFT&&(0,f.jsx)(y.X,{onChange:v,checked:p,color:"teal"}),(0,f.jsx)(I.x,{style:(0,b.Z)((0,b.Z)({},C),{},{maxWidth:"210px"}),color:p?"dimmed":"inherit",size:"lg",children:u.name})]}),(0,f.jsxs)(x.Z,{spacing:"xs",children:[o===g.RIGHT&&(0,f.jsx)(y.X,{onChange:v,checked:p,color:"teal"}),(0,f.jsx)(F.A,{onClick:function(){(0,m.wz)(l.id,u.id).then((function(){return i(l,u)})).catch((function(e){return console.error(e)}))},size:"sm",color:"red",children:(0,f.jsx)(w.Z,{})})]})]})},J=function(e){var n=s.useContext(a.J).lang,t=e.space.items;return(0,f.jsx)(f.Fragment,{children:t.length?t.map((function(n){return(0,f.jsx)(T,{space:e.space,item:n},"space-".concat(e.space.id,"-item-").concat(n.id))})):(0,f.jsx)(I.x,{size:"sm",color:"grey",children:n.spaceItemsNoItems})})},B=t(3161),D=t(6588),E=function(e){var n=s.useContext(a.J).lang,t=s.useContext(r.u),i=t.handleAddItem,o=t.handleDeleteSpace,h=e.spaceId,p=s.useState(""),j=(0,c.Z)(p,2),g=j[0],C=j[1],v=s.useState(!1),Z=(0,c.Z)(v,2),z=Z[0],k=Z[1],S=s.useState(!1),A=(0,c.Z)(S,2),b=A[0],y=A[1],T=s.useState(!1),J=(0,c.Z)(T,2),E=J[0],P=J[1],L=function(){var e={name:g,complete:!1};(0,m.lx)(h,e).then((function(e){i(h,e.data)})).catch((function(e){return console.error(e)}))},U=function(){y(!1),P(!1),C(""),k(!1)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(x.Z,{direction:"row",spacing:"md",children:[(0,f.jsx)(F.A,{onClick:function(){return y(!0)},size:"sm",color:"teal",children:(0,f.jsx)(B.Z,{})}),(0,f.jsx)(F.A,{onClick:function(){return P(!0)},size:"sm",color:"red",children:(0,f.jsx)(w.Z,{})})]}),(0,f.jsx)(u.u,{onClose:U,opened:b,children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.I,{value:g,onChange:function(e){var n=e.target.value;""===n&&k(!0),""!==n&&z&&k(!1),C(e.target.value)},icon:(0,f.jsx)(D.Z,{size:16}),placeholder:n.spaceAddItemInputPlaceholder,invalid:z}),(0,f.jsxs)(x.Z,{position:"right",style:{marginTop:"1.5rem"},children:[(0,f.jsx)(l.z,{onClick:function(){L(),C("")},size:"xs",color:"teal",children:n.spaceAddItemButtonMore,disabled:""===g}),(0,f.jsx)(l.z,{onClick:function(){L(),U()},size:"xs",color:"teal",children:n.spaceAddItemButtonClose,disabled:""===g})]})]})}),(0,f.jsx)(u.u,{onClose:U,opened:E,children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(I.x,{align:"center",children:n.spaceDeleteSpaceWarning}),(0,f.jsx)(x.Z,{position:"right",style:{marginTop:"1.5rem"},children:(0,f.jsx)(l.z,{onClick:function(){(0,m.Ns)(h).then((function(){return o(h)})).catch((function(e){return console.error(e)})),P(!1)},size:"xs",color:"red",children:n.spaceDeleteSpaceButton})})]})})]})},P=function(e){var n=e.space,t=function(e){var n=s.useContext(r.u).data,t=s.useState(0),i=(0,c.Z)(t,2),a=i[0],o=i[1];return s.useEffect((function(){var n=e.items.length,t=0;e.items.forEach((function(e){e.complete&&(t+=1)})),o(t/n*100)}),[n,e.items]),a}(n);return(0,f.jsxs)(z.Z,{shadow:"sm",p:"lg",style:{marginBottom:"1.2rem"},children:[(0,f.jsxs)(x.Z,{position:"apart",children:[(0,f.jsxs)(k.K,{spacing:"xs",children:[(0,f.jsx)(I.x,{size:"xl",weight:500,children:n.name}),(0,f.jsx)(I.x,{size:"sm",children:n.user})]}),(0,f.jsx)(E,{spaceId:n.id})]}),(0,f.jsx)(S.i,{my:"sm"}),(0,f.jsx)(J,{space:n}),t>=0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(S.i,{my:"sm"}),(0,f.jsx)(A.E,{value:t,color:t>=100?"teal":"blue",size:"lg"})]})]})};var L=function(){var e=s.useContext(r.u),n=e.data,t=e.loading;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(v.f,{visible:t}),(0,f.jsx)(C,{}),(0,f.jsx)(Z.W,{children:n&&n.map((function(e){return(0,f.jsx)(P,{space:e},"space-".concat(e.id))}))})]})}}}]);
//# sourceMappingURL=521.425212ab.chunk.js.map