"use strict";(self.webpackChunkeasylist_react_pwa=self.webpackChunkeasylist_react_pwa||[]).push([[521],{9708:function(e,n,t){t.d(n,{Z:function(){return i}});t(2791);var s=t(675),r=t(184),i=function(e){var n=e.position,t=void 0===n?"right":n,i=e.leftContent,c=e.rightContent;return(0,r.jsx)("header",{className:"header-bar",children:(0,r.jsxs)(s.Z,{position:t,style:{width:"98%",padding:"6px 0px"},children:[i&&(0,r.jsx)(s.Z,{spacing:"xs",children:i}),c&&(0,r.jsx)(s.Z,{spacing:"xs",children:c})]})})}},521:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var s=t(2791),r=t(917),i=t(885),c=t(7689),o=t(3275),a=t(9708),l=t(8296),u=t(1161),d=t(4746),h=t(1684),x=t(675),p=t(378),j=t(526),m=t(7017),f=t(184);var g,v=function(){var e=(0,c.s0)(),n=s.useContext(o.J).lang,t=s.useContext(r.u).handleAddSpace,g=s.useState(!1),v=(0,i.Z)(g,2),C=v[0],Z=v[1],z=s.useState(""),k=(0,i.Z)(z,2),I=k[0],S=k[1],A=s.useState(!1),b=(0,i.Z)(A,2),y=b[0],w=b[1],F=s.useState("All"),T=(0,i.Z)(F,2),E=T[0],J=T[1],B=function(){Z(!1),S(""),w(!1),J("All")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Z,{rightContent:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.z,{onClick:function(){return Z(!0)},color:"teal",children:(0,f.jsx)(p.Z,{})}),(0,f.jsx)(l.z,{onClick:function(){return e("/settings")},color:"teal",children:(0,f.jsx)(j.Z,{})})]})}),(0,f.jsx)(u.u,{onClose:B,opened:C,children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.I,{value:I,onChange:function(e){var n=e.target.value;""===n&&w(!0),""!==n&&y&&w(!1),S(n)},icon:(0,f.jsx)(p.Z,{size:16}),placeholder:n.homeCreateSpaceInputPlaceholder,invalid:y}),(0,f.jsx)(h.Ph,{placeholder:n.spaceUserPlaceholder,data:[{value:"All",label:n.spaceUserOptionAll},{value:"Johan",label:"Johan"},{value:"Laura",label:"Laura"}],value:E,onChange:function(e){J(e)}}),(0,f.jsx)(x.Z,{position:"right",style:{marginTop:"1.5rem"},children:(0,f.jsx)(l.z,{onClick:function(){var e={name:I,user:E};(0,m.AU)(e).then((function(e){return t(e.data)})).catch((function(e){return console.error(e)})),B()},size:"xs",color:"teal",children:n.homeCreateSpaceAddButton,disabled:""===I})})]})})]})},C=t(2485),Z=t(1580),z=t(477),k=t(9982),I=t(5699),S=t(3828),A=t(1413),b=t(8437),y=t(6808),w=t(9811);!function(e){e.LEFT="left",e.RIGHT="right"}(g||(g={}));var F=function(e){var n=(0,s.useContext)(r.u),t=n.handleUpdateItem,c=n.handleDeleteItem,a=(0,s.useContext)(o.J).checkboxPos,l=(0,s.useState)(!1),u=(0,i.Z)(l,2),d=u[0],h=u[1],p=e.space,j=e.item,v=d?{textDecoration:"line-through"}:{};(0,s.useEffect)((function(){C(j.complete)}),[]);var C=function(e){"string"===typeof e&&h("true"===e),"boolean"===typeof e&&h(e)},Z=function(){var e={id:j.id,name:j.name,complete:!d};h(!d),(0,m.ss)(p.id,j.id,e).then((function(e){return t(p.id,e.data)})).catch((function(e){return console.error(e)}))};return(0,f.jsxs)(x.Z,{position:"apart",children:[(0,f.jsxs)(x.Z,{direction:"row",spacing:"xs",children:[a===g.LEFT&&(0,f.jsx)(b.X,{onChange:Z,checked:d,color:"teal"}),(0,f.jsx)(k.x,{style:(0,A.Z)((0,A.Z)({},v),{},{maxWidth:"210px"}),color:d?"dimmed":"inherit",size:"lg",children:j.name})]}),(0,f.jsxs)(x.Z,{direction:"row",spacing:"xs",children:[a===g.RIGHT&&(0,f.jsx)(b.X,{onChange:Z,checked:d,color:"teal"}),(0,f.jsx)(y.A,{onClick:function(){(0,m.wz)(p.id,j.id).then((function(){return c(p,j)})).catch((function(e){return console.error(e)}))},size:"sm",color:"red",children:(0,f.jsx)(w.Z,{})})]})]})},T=function(e){var n=s.useContext(o.J).lang,t=e.space.items;return(0,f.jsx)(f.Fragment,{children:t.length?t.map((function(n){return(0,f.jsx)(F,{space:e.space,item:n},"space-".concat(e.space.id,"-item-").concat(n.id))})):(0,f.jsx)(k.x,{size:"sm",color:"grey",children:n.spaceItemsNoItems})})},E=t(3161),J=t(6588),B=function(e){var n=s.useContext(o.J).lang,t=s.useContext(r.u),c=t.handleAddItem,a=t.handleDeleteSpace,h=e.spaceId,p=s.useState(""),j=(0,i.Z)(p,2),g=j[0],v=j[1],C=s.useState(!1),Z=(0,i.Z)(C,2),z=Z[0],I=Z[1],S=s.useState(!1),A=(0,i.Z)(S,2),b=A[0],F=A[1],T=s.useState(!1),B=(0,i.Z)(T,2),D=B[0],P=B[1],L=function(){var e={name:g,complete:!1};(0,m.lx)(h,e).then((function(e){c(h,e.data)})).catch((function(e){return console.error(e)}))},U=function(){F(!1),P(!1),v(""),I(!1)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(x.Z,{direction:"row",spacing:"md",children:[(0,f.jsx)(y.A,{onClick:function(){return F(!0)},size:"sm",color:"teal",children:(0,f.jsx)(E.Z,{})}),(0,f.jsx)(y.A,{onClick:function(){return P(!0)},size:"sm",color:"red",children:(0,f.jsx)(w.Z,{})})]}),(0,f.jsx)(u.u,{onClose:U,opened:b,children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.I,{value:g,onChange:function(e){var n=e.target.value;""===n&&I(!0),""!==n&&z&&I(!1),v(e.target.value)},icon:(0,f.jsx)(J.Z,{size:16}),placeholder:n.spaceAddItemInputPlaceholder,invalid:z}),(0,f.jsxs)(x.Z,{position:"right",style:{marginTop:"1.5rem"},children:[(0,f.jsx)(l.z,{onClick:function(){L(),v("")},size:"xs",color:"teal",children:n.spaceAddItemButtonMore,disabled:""===g}),(0,f.jsx)(l.z,{onClick:function(){L(),U()},size:"xs",color:"teal",children:n.spaceAddItemButtonClose,disabled:""===g})]})]})}),(0,f.jsx)(u.u,{onClose:U,opened:D,children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(k.x,{align:"center",children:n.spaceDeleteSpaceWarning}),(0,f.jsx)(x.Z,{position:"right",style:{marginTop:"1.5rem"},children:(0,f.jsx)(l.z,{onClick:function(){(0,m.Ns)(h).then((function(){return a(h)})).catch((function(e){return console.error(e)})),P(!1)},size:"xs",color:"red",children:n.spaceDeleteSpaceButton})})]})})]})},D=function(e){var n=e.space,t=function(e){var n=s.useContext(r.u).data,t=s.useState(0),c=(0,i.Z)(t,2),o=c[0],a=c[1];return s.useEffect((function(){var n=e.items.length,t=0;e.items.forEach((function(e){e.complete&&(t+=1)})),a(t/n*100)}),[n,e.items]),o}(n);return(0,f.jsxs)(z.Z,{shadow:"sm",p:"lg",style:{marginBottom:"1.2rem"},children:[(0,f.jsxs)(x.Z,{position:"apart",children:[(0,f.jsxs)(x.Z,{direction:"column",spacing:"xs",children:[(0,f.jsx)(k.x,{size:"xl",weight:500,children:n.name}),(0,f.jsx)(k.x,{size:"sm",children:n.user})]}),(0,f.jsx)(B,{spaceId:n.id})]}),(0,f.jsx)(I.i,{my:"sm"}),(0,f.jsx)(T,{space:n}),t>=0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(I.i,{my:"sm"}),(0,f.jsx)(S.E,{value:t,color:t>=100?"teal":"blue",size:"lg"})]})]})};var P=function(){var e=s.useContext(r.u),n=e.data,t=e.loading;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(C.f,{visible:t}),(0,f.jsx)(v,{}),(0,f.jsx)(Z.W,{children:n&&n.map((function(e){return(0,f.jsx)(D,{space:e},"space-".concat(e.id))}))})]})}}}]);
//# sourceMappingURL=521.17a21c70.chunk.js.map